# 防火墙端口操作常用命令

## 查看端口的使用的情况

**查询所有开放端口:**
`netstat -ntlp`

**查看端口状态：**
`/etc/init.d/iptables status`

## 开启端口

开启端口以开启端口80为例。

* 用命令开启端口：

```{.line-numbers}
iptables -I INPUT -p tcp --dport 80 -j ACCEPT --写入要开放的端口
/etc/init.d/iptables save --保存修改
/etc/sysconfig/iptables restart -- 重启防火墙
或者用命令:service iptables restart重启防火墙
```

* 修改/etc/sysconfig/iptables文件

加入 `-A INPUT -p tcp  -m tcp --dport 80 -j ACCEPT`
保存文件重启防火墙。

<font color="red">如果端口仍然未能开放，将新加的开放端口规则放在/etc/sysconfig/iptables规则最上面</font>

## 关闭端口

```{.line-numbers}
iptables -I INPUT -p tcp --dport 80 -j DROP--写入修改
/etc/init.d/iptables save --保存修改
service iptables restart --重启防火墙
```
